<template>
  <p>
    Tags:
    <BaseButton
      v-for="(tag, index) in tags"
      :key="index"
      :value="tag"
      @click.native="getPosts"
    >
      {{ tag }}
    </BaseButton>
  </p>
</template>

<script>
import { mapActions } from 'vuex'
export default {
  props: {
    tags: { type: Array, required: true },
  },
  methods: {
    ...mapActions({
      getResponsePosts: 'modules/post/getResponse',
      changeTags: 'modules/post/changeTags',
      changeEndContent: 'modules/post/changeEndContent',
      changePid: 'modules/post/changePid',
      voidPosts: 'modules/post/voidPosts',
      changeSelectedTags: 'modules/search/changeSelectedTags',
      replaceTag: 'modules/search/replaceTag',
    }),
    getPosts(event) {
      const tag = event.target.value
      this.$router.push(`/?tags=${tag}`) // можно убрать, если не использовать query
      this.changeEndContent()
      this.changePid({ isIncrement: false })
      this.replaceTag(tag)
      this.changeSelectedTags(tag)
      this.changeTags(tag)
      this.voidPosts()
      this.getResponsePosts()
      scrollTo(0, 0)
    },
  },
}
</script>

<style></style>
